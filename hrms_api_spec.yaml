openapi: 3.0.3
info:
  title: HRMS Management API
  version: 1.0.0
tags:
  - name: auth
    description: APIs related to the auth page
  - name: Dashboard
    description: APIs related to the dashboard page
  - name: Department
    description: APIs related to department
  - name: Employee Type
    description: APIs related to employee type
  - name: Employee
    description: APIs related to the employee page
  - name: Organisation
    description: APIs related to the Organisation page  
paths:
  /signin:
    post:
      tags:
        - auth
      summary: Sign in to the system
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
      responses:
        '200':
          description: Successful sign-in
          content:
            application/json:
              schema:
                type: object
                properties:
                  ChallengeName:
                    type: string
                    description: The challenge name returned from the authentication process
                  Session:
                    type: string
                    description: The session returned from the authentication process
        '400':
          description: Bad request, validation failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Details of the validation errors
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
                  error:
                    type: string
                    description: Details of the internal server error
  /signup:
    post:
      tags:
        - auth
      summary: Sign up for a new account
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                password:
                  type: string
      responses:
        '200':
          description: Successful sign-up
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Confirmation message for successful sign-up
        '400':
          description: Bad request, validation failed
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Details of the validation errors
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
                  error:
                    type: string 
                    description: Details of the internal server error
  /dashboard/dashboardStats:
    get:
      tags:
        - Dashboard
      summary: Retrieve total employees and projects count
      operationId: getEmployee
      responses:
        "200":
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  Totalemployees:
                    type: integer
                  Totalprojects:
                    type: integer
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
  /department:
    get:
      tags:
        - Department
      summary: Retrieve all departments
      operationId: getDepartment
      responses:
        '200':
          description: Successful response with a list of departments.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    name:
                      type: string
                      description: The name of the department.
                    org_id:
                      type: string
                      format: uuid
        '500':
          description: Internal Server Error response.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Error message indicating the cause of the internal server error.
    post:
      tags:
        - Department
      summary: Add a new department
      operationId: addDepartment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                org_id:
                  type: string
                  format: uuid
      responses:
        "201":
          description: Department added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  name:
                    type: string
                  org_id:
                    type: string
                    format: uuid
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred

  /department/{id}:
    put:
      tags:
        - Department
      summary: Update a department
      operationId: updateDepartment
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                org_id:
                  type: string
                  format: uuid
      responses:
        "200":
          description: Department updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  name:
                    type: string
                  org_id:
                    type: string
                    format: uuid
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
  /empType:
    get:
      tags:
        - Employee Type
      summary: Retrieve all employee types
      operationId: getEmp_type
      responses:
        "200":
          description: Successful response with a list of employee types
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    type:
                      type: string
                      description: The name of the employee type.
                    org_id:
                      type: string
                      format: uuid
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
    post:
      tags:
        - Employee Type
      summary: Add a new employee type
      operationId: addEmp_type
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  type: string
                org_id:
                  type: string
                  format: uuid
      responses:
        "201":
          description: Employee type added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  type:
                    type: string
                  org_id:
                    type: string
                    format: uuid
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
  /empType/{id}:
    put:
      tags:
        - Employee Type
      summary: Update an employee type
      operationId: updateEmp_type
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                type:
                  type: string
                org_id:
                  type: string
                  format: uuid
      responses:
        "200":
          description: Employee type updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  type:
                    type: string
                  org_id:
                    type: string
                    format: uuid
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
        
  /employee/document:
    put:
      tags:
        - Employee
      summary: Add document for an employee
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - emp_id
                - document
              properties:
                emp_id:
                  type: string
                  format: uuid
                documents:
                  type: array
                  items:
                    type: object
                    required:
                      - name
                      - url
                    properties:
                      name:
                        type: string
                      url:
                        type: string
                        format: uri
      responses:
        '200':
          description: Successful addition of document(s)
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    name:
                      type: string
                      description: The name of the document
                    url:
                      type: string
                      format: uri
                    created_at:
                      type: string
                      format: date-time
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
                  error:
                    type: string
                    description: Details of the internal server error                  
  /employee/equipmentInfo:
    put:
      tags:
        - Employee
      summary: Add equipment details for an employee
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  owner:
                    type: string
                  device_type_id:
                    type: integer
                  manufacturer:
                    type: string
                  serial_number:
                    type: string
                  note:
                    type: string
                  supply_date:
                    type: string
                    format: date
                  emp_id:
                    type: string
                    format: uuid
      responses:
        '200':
          description: Successful addition of equipment details
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    owner:
                      type: string
                    device_type_id:
                      type: integer
                    manufacturer:
                      type: string
                    serial_number:
                      type: string
                    note:
                      type: string
                    supply_date:
                      type: string
                      format: date
                    emp_id:
                      type: string
                      format: uuid
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
                  error:
                    type: string
                    description: Details of the internal server error
                    
  /employee/professionalInfo:
    put:
      tags:
        - Employee
      summary: Update professional information of an employee
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                designation_id:
                  type: string
                pf:
                  type: string
                uan:
                  type: string
                department_id:
                  type: string
                reporting_manager_id:
                  type: string
                work_location:
                  type: string
                start_date:
                  type: string
                  format: date
                emp_id:
                  type: string
      responses:
        '200':
          description: Successful update of professional information
          content:
            application/json:
              schema:
                type: object
                properties:
                  designation_id:
                    type: string
                  designation:
                    type: string
                  department_id:
                    type: string
                  department:
                    type: string
                  maanger_id:
                    type: string
                  maanger_first_name:
                    type: string
                  maanger_last_name:
                    type: string
                  image:
                    type: string
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
                    
  /employee/personalInfo:
    post:
      tags:
        - Employee
      summary: Add personal information of an employee
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                first_name:
                  type: string
                last_name:
                  type: string
                email:
                  type: string
                  format: email
                work_email:
                  type: string
                  format: email
                gender:
                  type: string
                  enum: [Male, Female, Other]
                dob:
                  type: string
                  format: date
                number:
                  type: string
                emergency_number:
                  type: string
                highest_qualification:
                  type: string
                address_line_1:
                  type: string
                address_line_2:
                  type: string
                landmark:
                  type: string
                country:
                  type: string
                state:
                  type: string
                city:
                  type: string
                zipcode:
                  type: string
      responses:
        '200':
          description: Successful addition of personal information
          content:
            application/json:
              schema:
                type: object
                properties:
                  email:
                    type: string
                    format: email
                  work_email:
                    type: string
                    format: email  
                  first_name:
                    type: string
                  last_name:
                    type: string
                  gender:
                    type: string
                    enum: [Male, Female, Other]
                  dob:
                    type: string
                    format: date
                  number:
                    type: string
                  emergency_number:
                    type: string
                  highest_qualification:
                    type: string
                  description:
                    type: string
                  created_at:
                    type: string
                    format: date-time
                  updated_at:
                    type: string
                    format: date-time
                  created_by:
                    type: string
                  updated_by:
                    type: string 
                  image: 
                    type: string
                  address_line_1:
                    type: string
                  address_line_2:
                    type: string
                  landmark:
                    type: string
                  country:
                    type: string
                  state:
                    type: string
                  city:
                    type: string
                  zipcode:
                    type: string
                  pf:
                    type: string
                  uan:  
                    type: string
                  department_id:
                    type: integer
                  work_location:
                    type: string
                  start_date:
                     type: string
                     format: date
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
                    
  /employee:
    get:
      tags:
        - Employee
      summary: getEmployees
      description: Retrieves a list of employees based on provided search parameters.
      parameters:
        - name: page
          in: query
          description: The page number for pagination.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response. Returns a list of employees.
          content:
            application/json:
              schema:
                type: object
                properties:
                  totalPages:
                    type: integer
                  currentPage:
                    type: integer 
                  employees:
                    type: array
                    items:
                      type: object
                      properties:
                        Employee_Name:
                          type: string
                        Employee_Id:
                          type: string
                        Email_Address:
                          type: string
                        Designation:
                          type: string
                        Employee_Type:
                          type: string
                        Department:
                          type: string
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: A message describing the error.  
                    
  /searchByName:
    get:
      tags:
        - Employee
      summary: searchByName
      description: Retrieves a list of employees based on provided search parameters.
      parameters:
        - name: name
          in: query
          description: The name of the employee to retrieve.
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successful response. Returns a list of employees.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    Employee_Name:
                      type: string
                    Employee_Id:
                      type: string
                    Email_Address:
                      type: string
                    Designation:
                      type: string
                    Employee_Type:
                      type: string
                    Department:
                      type: string
                    Start_Date:
                      type: string
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: A message describing the error.
                    
  /employee/{id}:
    get:
      summary: Retrieve employee information by ID
      operationId: getEmployeeById
      tags:
        - Employee
      parameters:
        - name: id
          in: path
          description: The ID of the employee to retrieve
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Successful response with employee information
          content:
            application/json:
              schema:
                type: object
                properties:
                  personal_information:
                    type: object
                    properties:
                      emp_id:
                        type: string
                        format: uuid
                      email:
                        type: string
                      password:
                        type: string
                      work_email:
                        type: string
                      first_name:
                        type: string
                      last_name:
                        type: string
                      gender:
                        type: string
                      dob:
                        type: string
                        format: date
                      number:
                        type: string
                      emergency_number:
                        type: string
                      highest_qualification:
                        type: string
                      address_id:
                        type: string
                        format: uuid
                      address_line_1:
                        type: string
                      address_line_2:
                        type: string
                      landmark:
                        type: string
                      country:
                        type: string
                      state:
                        type: string
                      city:
                        type: string
                      zipcode:
                        type: string
                  professional_information:
                    type: object
                    properties:
                      emp_detail_id:
                        type: string
                        format: uuid
                      designation_id:
                        type: string
                        format: uuid
                      pf:
                        type: string
                      uan:
                        type: string
                      department_id:
                        type: string
                        format: uuid
                      reporting_manager_id:
                        type: string
                        format: uuid
                      emp_type_id:
                        type: string
                        format: uuid
                      work_location:
                        type: string
                      start_date:
                        type: string
                        format: date
                      department_name:
                        type: string
                      emp_type:
                        type: string
                      emp_designation_id:
                        type: string
                        format: uuid
                      emp_designation:
                        type: string
                      reporting_manager_first_name:
                        type: string
                      reporting_manager_last_name:
                        type: string
                  documents:
                    type: array
                    items:
                      type: object
                      properties:
                        document_id:
                          type: string
                          format: uuid
                        name:
                          type: string
                        url:
                          type: string
                          format: uri
                  equipment:
                    type: array
                    items:
                      type: object
                      properties:
                        owner:
                          type: string
                        device_type_id:
                          type: integer
                        manufacturer:
                          type: string
                        serial_number:
                          type: string
                        note:
                          type: string
                        supply_date:
                          type: string
                          format: date
                        device_type_name:
                          type: string
        '400':
          description: Bad request, invalid employee ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Details of the validation errors
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: An internal server error occurred
                  error:
                    type: string
                    description: Details of the internal server error
  /updateOrganization/{org_id}:
    put:
      tags:
        - Organisation
      summary: Update organisation details
      operationId: updateOrganization
      parameters:
        - in: path
          name: org_id
          required: true
          schema:
            type: string
            format: uuid
            description: The ID of the organisation to update
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                email:
                  type: string
                  format: email
                number:
                  type: string
                logo:
                  type: string
                address_line_1:
                  type: string
                address_line_2:
                  type: string
                landmark:
                  type: string
                country:
                  type: string
                state:
                  type: string
                city:
                  type: string
                zipcode:
                  type: string
                orgId:
                  type: string
                  format: uuid
      responses:
        '200':
          description: Organisation details updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  name:
                    type: string
                  email:
                    type: string
                    format: email
                  number:
                    type: string
                  logo:
                    type: string
                  address_line_1:
                    type: string
                  address_line_2:
                    type: string
                  landmark:
                    type: string
                  country:
                    type: string
                  state:
                    type: string
                  city:
                    type: string
                  zipcode:
                    type: string
        '400':
          description: Bad request, invalid request body format
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: object
                    description: Details of the validation errors
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Details of the error
                  